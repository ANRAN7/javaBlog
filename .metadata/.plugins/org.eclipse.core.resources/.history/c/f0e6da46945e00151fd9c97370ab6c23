package net.peace.Thread;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Graphics;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
/**
 * 
* @ClassName: TestMovalBall
* @Description: TODO(这里用一句话描述这个类的作用)
* @author peace w_peace@163.com 
* @date Sep 19, 2015 10:34:46 AM
*
 */
public class TestMovalBall extends JFrame {
	private Mypanel mp;
	private  JButton jb;
	private Thread th;
	public TestMovalBall() {
		this.setSize(600,500);
		this.setLocation(200,100);
		this.setDefaultCloseOperation(EXIT_ON_CLOSE);
		jb=new JButton("移动小球");
		jb.addActionListener(new ActionListener() {
			
			@Override
			public void actionPerformed(ActionEvent e) {
				// TODO Auto-generated method stub
				th.start();
				
			}
		});
		this.add(jb,BorderLayout.NORTH);
		
		mp=new Mypanel(40, 50);
		this.add(mp);
		this.setVisible(true);
		th=new Thread(mp);
	}
	class Mypanel extends JPanel implements Runnable{
		int x,y;
		public Mypanel(int x,int y){
			this.x=x;
			this.y=y;
			
		}
		@Override
		public void paint(Graphics g) {
			// TODO Auto-generated method stub
			super.paint(g);
			g.setColor(Color.red);
		    g.fillOval(x, y, 50, 50);
		
		}
		@Override
		public void run() {
			for(int i=0;i<50;i++){
				mp.x+=3;
				mp.repaint();
				try {
					Thread.sleep(50);
				} catch (InterruptedException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			}
			
		}
	}
	
	public static void main(String[] args) {
		
		//new TestMovalBall();
		//直接使用Thread类
		//建立线程类对象 并给予线程名
		Reflash f=new Reflash("peace1");
		Reflash f1=new Reflash("peace2");
		//使线程类开始运行，使用start方法，千万记住不是run
		f.start();
		f1.start();
		//使用runnable建立线程
		//建立Thread类对象，传入Runnable对象；并给予线程名
		Runal run=new Runal();
		Thread thread=new Thread(run,"peace3");
		thread.start();
		  thread=new Thread(run,"peace4");
		  thread.start();
		
		for(int i=1;i<10;i++){
			//获得的main方法的线程名字为main，当是未给予名字的线程时，获得的名字为Thread-01依次类推
			System.out.println(Thread.currentThread().getName()+":"+i);
		}
	}

}
/*
 *创建一个简单的线程类； 
 */
class Reflash extends Thread{
	private int index;
	//命名构造器
	public Reflash(String name) {
		// TODO Auto-generated constructor stub
		super(name);
	}
	@Override
	//建立run方法
	public void run() {
		for(;index<10;index++){
			System.out.println(this.getName()+":"+index);
		}
		super.run();
	}
}
//一般多线程百分之九十九都用这种方法；
class Runal implements Runnable{
	private int index;
   // 实现Runnable的run方法
	@Override
	public void run() {
		// TODO Auto-generated method stub
		for(;index<10;index++){
			//获取当前线程的名字
			System.out.println(Thread.currentThread().getName()+":"+index);
		}
	}
	
}